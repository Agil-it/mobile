<ion-header>
  <ion-toolbar>
    <ion-title>Componente</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="dismissModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card style="background-color: white;">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-label class="p-left-2 font-size-mini">Código</ion-label>
        </ion-col>      
        
        <ion-col size="12">
          <ion-searchbar style="white-space: pre-line !important;" debounce="500" (ionChange)="loadProductsById()" [(ngModel)]="integrationID" placeholder="Código"></ion-searchbar>      
        </ion-col>

        <ion-list style="max-height: 10rem; overflow: scroll;" *ngIf="filterOrigin == 'INTEGRATION_ID' && products.length">
          <ion-row>
            <ion-col size="3">
              <strong>Código</strong>
            </ion-col>
            <ion-col size="9">
              <strong>Descrição</strong>
            </ion-col>
          </ion-row>
          <div *ngFor="let item of products" (click)="componentSelected(item)">
            <ion-row style="border-bottom: #ccc; border-bottom-width: 0.5px; border-bottom-style: solid;">
              <ion-col size="3">
                {{item.integrationID}}
              </ion-col>
              <ion-col size="9">
                {{item.description}}
              </ion-col>
            </ion-row>
          </div>
        </ion-list>
    
        <ion-col size="12">
          <ion-label class="p-left-2 font-size-mini">Descrição</ion-label>
        </ion-col>
  
        <ion-col size="12">
          <ion-searchbar style="white-space: pre-line !important;" debounce="500" (ionChange)="loadProductsByDescription()" [(ngModel)]="filter" placeholder="Descrição"></ion-searchbar>      
        </ion-col>

        <ion-list style="max-height: 10rem; overflow: scroll;" *ngIf="filterOrigin == 'DESCRIPTION' && products.length">
          <ion-row>
            <ion-col size="3">
              <strong>Código</strong>
            </ion-col>
            <ion-col size="9">
              <strong>Descrição</strong>
            </ion-col>
          </ion-row>
          <div *ngFor="let item of products" (click)="componentSelected(item)">
            <ion-row style="border-bottom: #ccc; border-bottom-width: 0.5px; border-bottom-style: solid;">
              <ion-col size="3">
                {{item.integrationID}}
              </ion-col>
              <ion-col size="9">
                {{item.description}}
              </ion-col>
            </ion-row>
          </div>
        </ion-list>
      </ion-row>      
    
      <ion-row>
        <ion-col size="12">
          <ion-label class="p-left-2 font-size-mini" color="secondary">Quantidade</ion-label>
        </ion-col>

        <ion-col size="12">
          <ion-input currency-input class="font-size-small" color="dark" type="number" [(ngModel)]="componentData.quantity"></ion-input>
        </ion-col>
      </ion-row>     
    </ion-grid>   
        
  </ion-card>  
</ion-content>

<ion-footer>
  <div class="align-center">
    <agilit-button (click)="confirmComponent()">Confirmar</agilit-button>
  </div>
</ion-footer>